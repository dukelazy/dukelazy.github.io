<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: ruby | 放羊的博客]]></title>
  <link href="http://dukelazy.github.io/tags/ruby/atom.xml" rel="self"/>
  <link href="http://dukelazy.github.io/"/>
  <updated>2018-10-15T23:07:20+08:00</updated>
  <id>http://dukelazy.github.io/</id>
  <author>
    <name><![CDATA[Duke Lazy]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[在 CentOS 7 上安装 Octopress]]></title>
    <link href="http://dukelazy.github.io/2015/02/install-octopress-in-centos-7/"/>
    <updated>2015-02-03T08:42:43+08:00</updated>
    <id>http://dukelazy.github.io/2015/02/install-octopress-in-centos-7</id>
    <content type="html"><![CDATA[<p>在一个全新的系统上,重新安装了 Octopress 记录下安装过程.在此之前要先安装 Octopress 的运行环境 Ruby 1.9.3 与 Node.Js</p>

<!--more-->


<h2>安装过程</h2>

<pre><code class="bash">[dukelazy@localhost ~]$ cd ~
[dukelazy@localhost ~]$ git clone https://github.com/imathis/octopress.git octopress

[dukelazy@localhost octopress]$ cd octopress
[dukelazy@localhost octopress]$ rbenv local 1.9.3-p551
[dukelazy@localhost octopress]$ rbenv rehash

[dukelazy@localhost octopress]$ gem install bundler
[dukelazy@localhost octopress]$ rbenv rehash

[dukelazy@localhost octopress]$ bundle install -V # 可以编辑Gemfile，使用淘宝的源
</code></pre>

<pre><code class="bash">[dukelazy@localhost octopress]$ rake install
mkdir -p source
cp -r .themes/classic/source/. source
mkdir -p sass
cp -r .themes/classic/sass/. sass
mkdir -p source/_posts
mkdir -p public
</code></pre>

<h2>错误处理</h2>

<ol>
<li><p>在安装 Ruby 之前没有安装 zlib-devel,安装 zlib-devel 后重新安装 Ruby 即可.</p>

<ul>
<li>错误信息如下:</li>
</ul>


<pre><code class="`"> [dukelazy@localhost octopress]$ gem install bundler
 ERROR:  Loading command: install (LoadError)
     cannot load such file -- zlib
 ERROR:  While executing gem ... (NameError)
     uninitialized constant Gem::Commands::InstallCommand
</code></pre>

<ul>
<li>处理过程:</li>
</ul>


<pre><code class="`"> [dukelazy@localhost octopress]$ sudo yum install zlib-devel
 [dukelazy@localhost octopress]$ rbenv uninstall 1.9.3-p551
 [dukelazy@localhost octopress]$ rbenv install 1.9.3-p551
 [dukelazy@localhost octopress]$ rbenv rehash
</code></pre>

<p> Ubuntu 14.04.5 LTS</p>

<pre><code class="` bash"> apt-get install zlib1g
 apt-get install zlib1g-dev
</code></pre></li>
<li><p>在安装 Ruby 之前没有安装 openssl-devel,安装 openssl-devel 后重新安装 Ruby 即可.</p>

<ul>
<li>错误信息如下:</li>
</ul>


<pre><code class="` bash"> [dukelazy@localhost octopress]$ bundle install
 Could not load OpenSSL.
 You must recompile Ruby with OpenSSL support or change the sources in your
 Gemfile from 'https' to 'http'. Instructions for compiling with OpenSSL using
 RVM are available at rvm.io/packages/openssl.
</code></pre>

<ul>
<li>处理过程:</li>
</ul>


<pre><code class="` bash"> [dukelazy@localhost octopress]$ sudo yum install openssl-devel
 [dukelazy@localhost octopress]$ rbenv install 1.9.3-p551
 [dukelazy@localhost octopress]$ rbenv rehash
</code></pre>

<p> Ubuntu 14.04.5 LTS</p>

<pre><code class="` bash"> apt-get install openssl
 apt-get install libssl-dev
</code></pre></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在 CentOS 7 上安装 rbenv]]></title>
    <link href="http://dukelazy.github.io/2015/02/install-rbenv-in-centos-7/"/>
    <updated>2015-02-02T08:43:08+08:00</updated>
    <id>http://dukelazy.github.io/2015/02/install-rbenv-in-centos-7</id>
    <content type="html"><![CDATA[<p>rbenv 用来管理多个版本的 ruby 在用户目录的安装和使用.也可以使用 rvm 来实现多个版本的 ruby 安装和使用.</p>

<!--more-->


<h2>安装 rbenv</h2>

<pre><code class="bash">[dukelazy@localhost ~]$ cd ~
[dukelazy@localhost ~]$ git clone git://github.com/sstephenson/rbenv.git .rbenv
[dukelazy@localhost ~]$ echo 'export PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.bash_profile
[dukelazy@localhost ~]$ echo 'eval "$(rbenv init -)"' &gt;&gt; ~/.bash_profile
[dukelazy@localhost ~]$ git clone git://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
[dukelazy@localhost ~]$ source ~/.bash_profile
</code></pre>

<h2>安装 Ruby 1.9.3</h2>

<pre><code>[dukelazy@localhost ~]$ rbenv install 1.9.3-p551
[dukelazy@localhost ~]$ rbenv local 1.9.3-p551
[dukelazy@localhost ~]$ rbenv rehash
[dukelazy@localhost ~]$ rm -rf .rbenv-version
</code></pre>

<h2><em>参考文档</em></h2>

<ul>
<li>https://github.com/sstephenson/rbenv [2015-02-03].</li>
<li>ftp://ftp.ruby-lang.org/pub/ruby/ [2015-02-03].</li>
<li>http://cache.ruby-lang.org/pub/ruby/1.9/ [2015-02-03].</li>
<li>https://ruby-china.org/wiki/rbenv-guide [2015-02-03].</li>
<li>http://octopress.org/docs/setup/rbenv/ [2015-02-03].</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在 CentOS 上编译安装 ruby 1.9.3 ]]></title>
    <link href="http://dukelazy.github.io/2014/12/compiler-ruby-1.9.3-in-centos/"/>
    <updated>2014-12-20T18:16:01+08:00</updated>
    <id>http://dukelazy.github.io/2014/12/compiler-ruby-1.9.3-in-centos</id>
    <content type="html"><![CDATA[<p>以下命令都是在超级管理员权限下执行，如果不是超级管理员，请自行调整安装目录和命令。</p>

<!--more-->


<h2>准备编译环境</h2>

<pre><code class="bash">sudo yum -y install make gcc openssl-devel zlib-devel gcc gcc-c++ make autoconf readline-devel curl-devel expat-devel gettext-devel ncurses-devel sqlite3-devel mysql-devel httpd-devel wget which
</code></pre>

<h2>编译 yaml 支持</h2>

<pre><code class="bash">cd /usr/src
wget http://pyyaml.org/download/libyaml/yaml-0.1.4.tar.gz
tar zxf yaml-0.1.4.tar.gz
cd yaml-0.1.4
./configure --prefix=/usr/local
make &amp;&amp; make install
</code></pre>

<h2>编译 Ruby</h2>

<pre><code class="bash">cd /usr/src
wget http://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.3-p551.tar.gz
tar zxf ruby-1.9.3-p551.tar.gz
cd ruby-1.9.3-p551
./configure --prefix=/usr/local --disable-install-doc --with-opt-dir=/usr/local/lib
make &amp;&amp; make install
</code></pre>

<h2>检查安装</h2>

<pre><code class="bash">whereis ruby
ruby --version
</code></pre>

<h2>编译错误处理</h2>

<ul>
<li>编译Ruby的时候遇到如下错误，解决办法参照网页 http://blog.csdn.net/iefreer/article/details/18828515</li>
</ul>


<pre><code>ossl_pkey_ec.c:765: warning: assignment makes pointer from integer without a cast
ossl_pkey_ec.c:819: error: ‘EC_GROUP_new_curve_GF2m’ undeclared (first use in this function)
ossl_pkey_ec.c:819: error: (Each undeclared identifier is reported only once
ossl_pkey_ec.c:819: error: for each function it appears in.)
ossl_pkey_ec.c: In function ‘ossl_ec_group_set_seed’:
ossl_pkey_ec.c:1114: warning: comparison between signed and unsigned integer expressions
make[1]: *** [ossl_pkey_ec.o] Error 1
make[1]: Leaving directory `/usr/src/ruby-1.9.2-p330/ext/openssl'
make: *** [mkmain.sh] Error 1
</code></pre>

<h2><em>参考资料</em></h2>

<ul>
<li>http://www.cnblogs.com/iosdev/p/3320671.html</li>
<li>http://blog.csdn.net/iefreer/article/details/18828515</li>
</ul>

]]></content>
  </entry>
  
</feed>
